# #!/usr/bin/env sh

# # PATH ì„¤ì • (GUI í™˜ê²½ì—ì„œë„ npmê³¼ gitì„ ì°¾ì„ ìˆ˜ ìˆë„ë¡)
# export PATH="/usr/local/bin:/opt/homebrew/bin:$PATH"

# # nvm ì´ˆê¸°í™” (nvm ì‚¬ìš© ì‹œ)
# export NVM_DIR="$HOME/.nvm"
# [ -s "$NVM_DIR/nvm.sh" ] && \. "$NVM_DIR/nvm.sh"

# # post-checkout: ë¸Œëœì¹˜ ì „í™˜ ì‹œ ì˜ì¡´ì„± ë³€ê²½ ê°ì§€
# # package.json ë˜ëŠ” package-lock.jsonì´ ë³€ê²½ë˜ì—ˆë‹¤ë©´ npm install ì‹¤í–‰

# # $1: ì´ì „ HEADì˜ ref
# # $2: ìƒˆë¡œìš´ HEADì˜ ref
# # $3: ë¸Œëœì¹˜ ì „í™˜ ì—¬ë¶€ (1=ë¸Œëœì¹˜ ì „í™˜, 0=íŒŒì¼ ì²´í¬ì•„ì›ƒ)

# # ë¸Œëœì¹˜ ì „í™˜ì´ ì•„ë‹ˆë©´ ì¢…ë£Œ
# [ "$3" = "0" ] && exit 0

# # npmì´ ì„¤ì¹˜ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸
# if ! command -v npm >/dev/null 2>&1; then
#   echo "âš ï¸  Warning: npm not found. Skipping dependency check."
#   exit 0
# fi

# prev_ref=$1
# new_ref=$2

# # ì˜ì¡´ì„± íŒŒì¼ì´ ë³€ê²½ë˜ì—ˆëŠ”ì§€ í™•ì¸
# changed_files="$(git diff --name-only "$prev_ref" "$new_ref" 2>/dev/null || echo "")"

# if echo "$changed_files" | grep -qE "package\.json|package-lock\.json"; then
#   echo "\nğŸ“¦ ë¸Œëœì¹˜ ì „í™˜ìœ¼ë¡œ ì¸í•´ ì˜ì¡´ì„± íŒŒì¼ì´ ë³€ê²½ë˜ì—ˆìŠµë‹ˆë‹¤."
#   echo "npm installì„ ì‹¤í–‰í•©ë‹ˆë‹¤...\n"

#   npm install

#   if [ $? -eq 0 ]; then
#     echo "\nâœ… ì˜ì¡´ì„±ì´ ì„±ê³µì ìœ¼ë¡œ ì—…ë°ì´íŠ¸ë˜ì—ˆìŠµë‹ˆë‹¤.\n"
#   else
#     echo "\nâš ï¸  ì˜ì¡´ì„± ì„¤ì¹˜ ì¤‘ ë¬¸ì œê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ìˆ˜ë™ìœ¼ë¡œ 'npm install'ì„ ì‹¤í–‰í•´ì£¼ì„¸ìš”.\n"
#   fi
# fi

# exit 0
